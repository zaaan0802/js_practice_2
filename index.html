<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <title>JavaScript課題②</title>
  <style>
    /* .Num {
      float: left;
      clear: both;
    } */
    li {
      list-style: none;
    }
  </style>
</head>

<body>
  <h1>FizzBuzz問題</h1>
  <div class="subtitle">FizzNum:
    <input id="fizzNum" class="Fizz Num" type="text" placeholder="整数値を入力してください" style="width: 170px;">

  </div>
  <div class="subtitle">BuzzNum:
    <input id="buzzNum" class="Buzz Num" type="text" placeholder="整数値を入力してください" style="width: 170px;">

  </div>
  <div>
    <input id="button" type="submit" value="実行">
  </div>
  <p>【出力】</p>
  <ul id="box"></ul>

</body>
<script>

  const exe = document.getElementById("button");
  exe.addEventListener("click", function () {
    const box = document.getElementById("box");
    box.innerHTML = "";
    const fizz = document.getElementById("fizzNum").value;
    const buzz = document.getElementById("buzzNum").value;
    function showMessage() {
      const errorMessage = document.createElement('p');
      errorMessage.textContent = '整数値を入力してください';
      box.appendChild(errorMessage);
    };

    if (/^([1-9]\d*|0)$/.test(fizz)) {
      //fizzがtrueで...
      if (/^([1-9]\d*|0)$/.test(buzz)) {
        // fizzもbuzzもtrueだったら
        for (let i = 1; i < 100; i++) {
          if ((i % fizz) == 0 && (i % buzz) == 0) {
            const li = document.createElement('li');
            li.textContent = 'Fizz' + 'Buzz' + i;
            box.appendChild(li);
          } else if ((i % fizz) == 0) {
            const li = document.createElement('li');
            li.textContent = 'Fizz' + i;
            box.appendChild(li);
          } else if ((i % buzz) == 0) {
            const li = document.createElement('li');
            li.textContent = 'Buzz' + i;
            box.appendChild(li);
          };
          document.body.appendChild(box);
        }
      } else {
        // fizzはtrueだけどbuzzがfalseだったら...
        showMessage();
      }
    } else {
      // fizzがfalseだったら
      showMessage();
    }
  });

</script>

</html>